<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>echarts使用笔记 | 博客</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/liumengjie2148.github.io/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/liumengjie2148.github.io/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/liumengjie2148.github.io/favicon.ico"><link rel="bookmark" href="/liumengjie2148.github.io/favicon.ico"><link rel="apple-touch-icon" href="/liumengjie2148.github.io/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/liumengjie2148.github.io/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/liumengjie2148.github.io/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">echarts使用笔记</h1><a id="logo" href="/liumengjie2148.github.io/.">博客</a><p class="description"></p></div><div id="nav-menu"><a href="/liumengjie2148.github.io/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/liumengjie2148.github.io/archives/"><i class="fa fa-archive"> 归档</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">echarts使用笔记</h1><div class="post-meta"><a href="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/#comments" class="comment-count"></a><p><span class="date">Jul 13, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h2 id="一、在webpack中使用ECharts"><a href="#一、在webpack中使用ECharts" class="headerlink" title="一、在webpack中使用ECharts"></a>一、在webpack中使用ECharts</h2><h3 id="npm-安装-ECharts"><a href="#npm-安装-ECharts" class="headerlink" title="npm 安装 ECharts"></a>npm 安装 ECharts</h3><p> 使用下面的命令通过npm安装ECharts<br>  <code>npm install echarts --save</code></p>
<h3 id="引入ECharts"><a href="#引入ECharts" class="headerlink" title="引入ECharts"></a>引入ECharts</h3><ol>
<li><p>可以直接在项目代码中 <code>require(&#39;echarts&#39;)</code>来整体引入ECharts。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> echarts = <span class="built_in">require</span>(<span class="string">'echarts'</span>);</span><br><span class="line"><span class="comment">// 基于准备好的dom，初始化echarts实例</span></span><br><span class="line"><span class="keyword">var</span> myChart = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'main'</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 绘制图表</span></span><br><span class="line">myChart.setOption(&#123;</span><br><span class="line">  tooltip: &#123; <span class="comment">// 提示框</span></span><br><span class="line">   trigger: <span class="string">'axis'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  legend: &#123;</span><br><span class="line">    top: <span class="number">90</span>,</span><br><span class="line">    right: <span class="number">8</span>,</span><br><span class="line">    itemWidth: <span class="number">16</span>,</span><br><span class="line">    itemHeight: <span class="number">12</span>,</span><br><span class="line">    orient: <span class="string">'vertical'</span>,</span><br><span class="line">    data: [<span class="string">'小学'</span>, <span class="string">'初中'</span>, <span class="string">'高中'</span>]</span><br><span class="line">  &#125;,</span><br><span class="line">  toolbox: &#123; <span class="comment">// 工具箱</span></span><br><span class="line">    right: <span class="number">16</span>,</span><br><span class="line">    top: <span class="number">0</span>,</span><br><span class="line">    itemGap: <span class="number">16</span>, <span class="comment">// 工具栏 icon 每项之间的间隔。横向布局时为水平间隔，纵向布局时为纵向间隔。</span></span><br><span class="line">    feature: &#123; <span class="comment">// 各个工具配置项</span></span><br><span class="line">      myTool1: &#123;</span><br><span class="line">        show: <span class="literal">true</span>,</span><br><span class="line">        title: <span class="string">'导出表格'</span>,</span><br><span class="line">        icon: <span class="string">'image://../../../../static/images/Excel-download@2x.png'</span>,</span><br><span class="line">        onclick: <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">          downloadExl(<span class="keyword">this</span>.exportData, <span class="string">''</span>, <span class="keyword">this</span>.elementId)</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      saveAsImage: &#123;</span><br><span class="line">        title: <span class="string">'导出图片'</span>,</span><br><span class="line">        type: <span class="string">'png'</span>,</span><br><span class="line">        excludeComponents: [ <span class="comment">// 保存图表时忽略的工具组件,默认忽略工具栏</span></span><br><span class="line">          <span class="string">'toolbox'</span></span><br><span class="line">        ],</span><br><span class="line">        icon: <span class="string">'image://../../../../static/images/Pic-download@2x.png'</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  xAxis: &#123;</span><br><span class="line">    data: <span class="keyword">this</span>.subList,</span><br><span class="line">    axisLine: &#123;<span class="attr">show</span>: <span class="literal">false</span>&#125;, <span class="comment">// 是否显示坐标轴轴线。</span></span><br><span class="line">    nameTextStyle: &#123;<span class="attr">color</span>: <span class="string">'#212121'</span>&#125;,</span><br><span class="line">    axisTick: &#123;<span class="attr">show</span>: <span class="literal">false</span>&#125; <span class="comment">// 是否显示坐标轴刻度。</span></span><br><span class="line">  &#125;,</span><br><span class="line">  yAxis: &#123;</span><br><span class="line">    axisLine: &#123;<span class="attr">show</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">    axisTick: &#123;<span class="attr">show</span>: <span class="literal">false</span>&#125;,</span><br><span class="line">    splitLine: &#123; <span class="comment">// 坐标轴在 grid 区域中的分隔线</span></span><br><span class="line">      lineStyle: &#123;<span class="attr">type</span>: <span class="string">'dashed'</span>&#125; <span class="comment">// 分隔线线的类型。</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  series: [</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'小学'</span>,</span><br><span class="line">      type: <span class="string">'bar'</span>,</span><br><span class="line">      barWidth: <span class="number">16</span>,</span><br><span class="line">      barGap: <span class="string">'80%'</span>,</span><br><span class="line">      data: <span class="keyword">this</span>.xiaoCnt,</span><br><span class="line">      label: &#123;</span><br><span class="line">        normal: &#123;</span><br><span class="line">          show: <span class="literal">true</span>,</span><br><span class="line">          position: <span class="string">'top'</span>,</span><br><span class="line">          rotate: <span class="number">45</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      itemStyle: &#123;</span><br><span class="line">        normal: &#123;</span><br><span class="line">          color: <span class="string">'#FFE066'</span>,</span><br><span class="line">          label: &#123;</span><br><span class="line">            show: <span class="literal">true</span>,</span><br><span class="line">            textStyle: &#123;</span><br><span class="line">              color: <span class="string">'#000'</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'初中'</span>,</span><br><span class="line">      type: <span class="string">'bar'</span>,</span><br><span class="line">      barWidth: <span class="number">16</span>,</span><br><span class="line">      barGap: <span class="string">'80%'</span>,</span><br><span class="line">      data: <span class="keyword">this</span>.chuCnt,</span><br><span class="line">      label: &#123;</span><br><span class="line">        normal: &#123;</span><br><span class="line">          show: <span class="literal">true</span>,</span><br><span class="line">          position: <span class="string">'top'</span>,</span><br><span class="line">          rotate: <span class="number">45</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      itemStyle: &#123;</span><br><span class="line">        normal: &#123;</span><br><span class="line">          color: <span class="string">'#8CE99A'</span>,</span><br><span class="line">          label: &#123;</span><br><span class="line">            show: <span class="literal">true</span>,</span><br><span class="line">            textStyle: &#123;</span><br><span class="line">              color: <span class="string">'#000'</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      name: <span class="string">'高中'</span>,</span><br><span class="line">      type: <span class="string">'bar'</span>,</span><br><span class="line">      barWidth: <span class="number">16</span>,</span><br><span class="line">      barGap: <span class="string">'80%'</span>,</span><br><span class="line">      data: <span class="keyword">this</span>.gaoCnt,</span><br><span class="line">      label: &#123;</span><br><span class="line">        normal: &#123;</span><br><span class="line">          show: <span class="literal">true</span>,</span><br><span class="line">          position: <span class="string">'top'</span>,</span><br><span class="line">          rotate: <span class="number">45</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      itemStyle: &#123;</span><br><span class="line">        normal: &#123;</span><br><span class="line">          color: <span class="string">'#72C3FC'</span>,</span><br><span class="line">          label: &#123;</span><br><span class="line">            show: <span class="literal">true</span>,</span><br><span class="line">            textStyle: &#123;</span><br><span class="line">              color: <span class="string">'#000'</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="comment">// 控制边距</span></span><br><span class="line">  grid: &#123;</span><br><span class="line">    left: <span class="number">0</span>,</span><br><span class="line">    right: <span class="string">'8%'</span>,</span><br><span class="line">    top: <span class="number">30</span>,</span><br><span class="line">    bottom: <span class="number">0</span>,</span><br><span class="line">    containLabel: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>按需引入ECharts图表和组件</p>
<p>默认使用<code>require(&#39;echarts&#39;)</code>得到的是已经加载了所有图表和组件的ECharts包，在项目中，可以只按需引入需要的模块。</p>
<p>例如上面实例代码中只用到了柱状图、title、提示框、工具组件、图例组件，因此在引入的时候也只需要引入这些模块。</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 引入ECharts 主模块</span></span><br><span class="line"><span class="keyword">var</span> echarts = <span class="built_in">require</span>(<span class="string">'echarts/lib/echarts'</span>)</span><br><span class="line"><span class="built_in">require</span>(<span class="string">'echarts/lib/chart/bar'</span>) <span class="comment">// 引入柱状图</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'echarts/lib/component/tooltip'</span>) <span class="comment">// 信息提示框组件</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'echarts/lib/component/toolbox'</span>) <span class="comment">// 引入工具组件</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'echarts/lib/component/legend'</span>) <span class="comment">// 引入图例组件</span></span><br><span class="line"><span class="built_in">require</span>(<span class="string">'echarts/lib/component/title'</span>) <span class="comment">// title组件</span></span><br></pre></td></tr></table></figure>
<p>可以按需引入的模块列表见 (<a href="https://github.com/ecomfe/echarts/blob/master/index.js" target="_blank" rel="noopener">https://github.com/ecomfe/echarts/blob/master/index.js</a>)</p>
<h2 id="二、图表的样式"><a href="#二、图表的样式" class="headerlink" title="二、图表的样式"></a>二、图表的样式</h2><p>Echarts 提供了丰富的自定义配置选项，并且能够从全局、系列、数据3个层级去设置数据图形的样式。</p>
<p>使用Echarts实现下面这个南丁格尔图：</p>
<p><img src="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/images/1531462727629.jpg" width="500" title="南丁格尔图"></p>
<h3 id="绘制南丁格尔图"><a href="#绘制南丁格尔图" class="headerlink" title="绘制南丁格尔图"></a>绘制南丁格尔图</h3><p>这次要画的是饼图，饼图主要是通过扇形的弧度表现不同类目的数据在总和中的占比，它的数据格式比柱状图更简单，只有一维的数值，不需要给类目。因为不在直角坐标系上，所以也不需要<code>xAxis</code>, <code>yAxis</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">myChart.setOption(&#123;</span><br><span class="line">    series : [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'入库试题量'</span>,</span><br><span class="line">            type: <span class="string">'pie'</span>,</span><br><span class="line">            radius: [<span class="number">0</span>, <span class="string">'60%'</span>],</span><br><span class="line">            center: [<span class="string">'50%'</span>, <span class="string">'50%'</span>],</span><br><span class="line">            data:[</span><br><span class="line">                &#123;<span class="attr">value</span>: <span class="number">7307</span>, <span class="attr">name</span>: <span class="string">'录排订单'</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">value</span>: <span class="number">948</span>, <span class="attr">name</span>: <span class="string">'改编订单'</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">value</span>: <span class="number">4064</span>, <span class="attr">name</span>: <span class="string">'Word订单'</span>&#125;,</span><br><span class="line">                &#123;<span class="attr">value</span>: <span class="number">2711</span>, <span class="attr">name</span>: <span class="string">'直接录入'</span>&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>上面的代码就能画出一个简单的饼图：</p>
<p><img src="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/images/1531463962589.jpg" width="300" title="饼图"></p>
<p>这里的data属性不像介绍ECharts引入方式时柱状图里那样每一项都是单个数值，而是一个包含 <code>name</code> 和 <code>value</code>属性的对象，ECharts中的数据项都是既可以只设成数值，也可以设成一个包含有名称、该数据图形的样式配置、标签配置的对象。具体见[data文档] (<a href="http://echarts.baidu.com/option.html#series-pie.data" target="_blank" rel="noopener">http://echarts.baidu.com/option.html#series-pie.data</a>)</p>
<p>ECharts 中的饼图通过设置 <code>roseType</code> 就可以显示成南丁格尔图。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roseType: &apos;angle&apos;</span><br></pre></td></tr></table></figure>
<p>南丁格尔图会通过半径表示数据的大小。</p>
<h3 id="阴影的配置"><a href="#阴影的配置" class="headerlink" title="阴影的配置"></a>阴影的配置</h3><p>ECharts 中有一些通用的样式，诸如阴影、透明度、颜色、边框颜色、边框宽度等，这些样式一般都会在系列的 <code>itemStyle</code> 里设置。例如阴影的样式可以通过下面几个配置项设置：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">itemStyle: &#123;</span><br><span class="line">    shadowBlur: <span class="number">200</span>,<span class="comment">// 阴影的大小</span></span><br><span class="line">    shadowOffsetX: <span class="number">0</span>,<span class="comment">// 阴影水平方向上的偏移</span></span><br><span class="line">    shadowOffsetY: <span class="number">0</span>,<span class="comment">// 阴影垂直方向上的偏移</span></span><br><span class="line">    shadowColor: <span class="string">'rgba(0, 0, 0, 0.5)'</span> <span class="comment">// 阴影颜色</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/images/13_42_47__08_24_2018.jpg" width="300" title="南丁格尔图"></p>
<p><code>itemStyle</code>的<code>emphasis</code>是鼠标<code>hover</code>时候的高亮样式。上面的示例里是正常的样式下加阴影，但是可能更多的时候是hover的时候通过阴影突出。<br>就需要如下的设置：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">itemStyle: &#123;</span><br><span class="line">    emphasis: &#123;</span><br><span class="line">        shadowBlur: <span class="number">200</span>,<span class="comment">// 阴影的大小</span></span><br><span class="line">        shadowOffsetX: <span class="number">0</span>,<span class="comment">// 阴影水平方向上的偏移</span></span><br><span class="line">        shadowOffsetY: <span class="number">0</span>,<span class="comment">// 阴影垂直方向上的偏移</span></span><br><span class="line">        shadowColor: <span class="string">'rgba(0, 0, 0, 0.5)'</span> <span class="comment">// 阴影颜色</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 在鼠标悬浮到图形元素上时，一般会出现高亮的样式。默认情况下，高亮的样式是根据普通样式自动生成的。但是高亮的样式也可以自己定义，主要是通过 emphasis 属性来定制。emphsis 中的结构，和普通样式的结构相同,例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    series: &#123;</span><br><span class="line">        type: <span class="string">'scatter'</span>,</span><br><span class="line">        <span class="comment">// 普通样式。</span></span><br><span class="line">        itemStyle: &#123;</span><br><span class="line">            <span class="comment">// 点的颜色。</span></span><br><span class="line">            color: <span class="string">'red'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        label: &#123;</span><br><span class="line">            show: <span class="literal">true</span>,</span><br><span class="line">            <span class="comment">// 标签的文字。</span></span><br><span class="line">            formatter: <span class="string">'This is a normal label.'</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// 高亮样式。</span></span><br><span class="line">        emphasis: &#123;</span><br><span class="line">            itemStyle: &#123;</span><br><span class="line">                <span class="comment">// 高亮时点的颜色。</span></span><br><span class="line">                color: <span class="string">'blue'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            label: &#123;</span><br><span class="line">                show: <span class="literal">true</span>,</span><br><span class="line">                <span class="comment">// 高亮时标签的文字。</span></span><br><span class="line">                formatter: <span class="string">'This is a emphasis label.'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="深色背景和浅色标签"><a href="#深色背景和浅色标签" class="headerlink" title="深色背景和浅色标签"></a>深色背景和浅色标签</h3><p>如果我们需要把整个主题改成深色主题，这就需要改背景色和文本颜色。</p>
<p>背景色是全局的，所以直接在 <code>option</code>下设置 <span style="color: #337ab7;">backgroudColor</span></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setOption(&#123;</span><br><span class="line">    backgroundColor: <span class="string">'#2c343c'</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>文本的样式可以设置全局的 <span style="color: #337ab7;">textStyle</span>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">setOption(&#123;</span><br><span class="line">    textStyle: &#123;</span><br><span class="line">        color: <span class="string">'rgba(255, 255, 255, 0.3)'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>也可以每个系列分别设置，每个系列的文本样式设置在 <span style="color: #337ab7;">label.textStyle</span></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">label: &#123;</span><br><span class="line">    textStyle: &#123;</span><br><span class="line">        color: <span class="string">'rgba(255, 255, 255, 0.3)'</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>饼图的话还要将标签的视觉引导线的颜色设为浅色<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">labelLine: &#123;</span><br><span class="line">    lineStyle: &#123;</span><br><span class="line">        color: &apos;rgba(255, 255, 255, 0.3)&apos;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/images/themeSet.png" width="300" title="南丁格尔图"></p>
<h3 id="调色盘"><a href="#调色盘" class="headerlink" title="调色盘"></a>调色盘</h3><p>调色盘，可以在 option 中设置。它给定了一组颜色，图形、系列会自动从其中选择颜色。 可以设置全局的调色盘，也可以设置系列自己专属的调色盘。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    <span class="comment">// 全局调色盘。</span></span><br><span class="line">    color: [<span class="string">'#c23531'</span>,<span class="string">'#2f4554'</span>, <span class="string">'#61a0a8'</span>, <span class="string">'#d48265'</span>, <span class="string">'#91c7ae'</span>,<span class="string">'#749f83'</span>,  <span class="string">'#ca8622'</span>, <span class="string">'#bda29a'</span>,<span class="string">'#6e7074'</span>, <span class="string">'#546570'</span>, <span class="string">'#c4ccd3'</span>],</span><br><span class="line"></span><br><span class="line">    series: [&#123;</span><br><span class="line">        type: <span class="string">'bar'</span>,</span><br><span class="line">        <span class="comment">// 此系列自己的调色盘。</span></span><br><span class="line">        color: [<span class="string">'#dd6b66'</span>,<span class="string">'#759aa0'</span>,<span class="string">'#e69d87'</span>,<span class="string">'#8dc1a9'</span>,<span class="string">'#ea7e53'</span>,<span class="string">'#eedd78'</span>,<span class="string">'#73a373'</span>,<span class="string">'#73b9bc'</span>,<span class="string">'#7289ab'</span>, <span class="string">'#91ca8c'</span>,<span class="string">'#f49f42'</span>],</span><br><span class="line">        ...</span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        type: <span class="string">'pie'</span>,</span><br><span class="line">        <span class="comment">// 此系列自己的调色盘。</span></span><br><span class="line">        color: [<span class="string">'#37A2DA'</span>, <span class="string">'#32C5E9'</span>, <span class="string">'#67E0E3'</span>, <span class="string">'#9FE6B8'</span>, <span class="string">'#FFDB5C'</span>,<span class="string">'#ff9f7f'</span>, <span class="string">'#fb7293'</span>, <span class="string">'#E062AE'</span>, <span class="string">'#E690D1'</span>, <span class="string">'#e7bcf3'</span>, <span class="string">'#9d96f5'</span>, <span class="string">'#8378EA'</span>, <span class="string">'#96BFFF'</span>],</span><br><span class="line">        ...</span><br><span class="line">    &#125;]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ECharts-中的样式设置注意点"><a href="#ECharts-中的样式设置注意点" class="headerlink" title="ECharts 中的样式设置注意点"></a><p style="color: red">ECharts 中的样式设置注意点</p></h3><p>在 ECharts4 以前，高亮和普通样式的写法，是这样的：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">option = &#123;</span><br><span class="line">    series: &#123;</span><br><span class="line">        type: <span class="string">'scatter'</span>,</span><br><span class="line">        itemStyle: &#123;</span><br><span class="line">            <span class="comment">// 普通样式。</span></span><br><span class="line">            normal: &#123;</span><br><span class="line">                <span class="comment">// 点的颜色。</span></span><br><span class="line">                color: <span class="string">'red'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// 高亮样式。</span></span><br><span class="line">            emphasis: &#123;</span><br><span class="line">                <span class="comment">// 高亮时点的颜色。</span></span><br><span class="line">                color: <span class="string">'blue'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        label: &#123;</span><br><span class="line">            <span class="comment">// 普通样式。</span></span><br><span class="line">            normal: &#123;</span><br><span class="line">                show: <span class="literal">true</span>,</span><br><span class="line">                <span class="comment">// 标签的文字。</span></span><br><span class="line">                formatter: <span class="string">'This is a normal label.'</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">// 高亮样式。</span></span><br><span class="line">            emphasis: &#123;</span><br><span class="line">                show: <span class="literal">true</span>,</span><br><span class="line">                <span class="comment">// 高亮时标签的文字。</span></span><br><span class="line">                formatter: <span class="string">'This is a emphasis label.'</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这种写法 仍然被兼容，但是，不再推荐。事实上，多数情况下，使用者只会配置普通状态下的样式，而使用默认的高亮样式。所以在 ECharts4 中，支持不写 normal 的配置方法（即本文开头的那种写法），使得配置项更扁平简单。</p>
<h2 id="三、用到的ECharts的API"><a href="#三、用到的ECharts的API" class="headerlink" title="三、用到的ECharts的API"></a>三、用到的ECharts的API</h2><h3 id="echarts"><a href="#echarts" class="headerlink" title="echarts"></a>echarts</h3><p>  全局 echarts 对象，在 script 标签引入 echarts.js 文件后获得，或者在 AMD 环境中通过 require(‘echarts’) 获得</p>
<p>1、 echarts.init()</p>
<p>创建一个 ECharts 实例，返回 echartsInstance, 不能在单个容器上初始化多个 ECharts 实例。</p>
<p><strong>参数</strong></p>
<ul>
<li><p>dom</p>
<p>实例容器，一般是一个具有高宽的div元素。</p>
<p>注：如果div是隐藏的，ECharts 可能会获取不到div的高宽导致初始化失败，这时候可以明确指定div的style.width和style.height，或者在div显示后手动调用 echartsInstance.resize 调整尺寸。</p>
</li>
</ul>
<p>ECharts 3 中支持直接使用canvas元素作为容器，这样绘制完图表可以直接将 canvas 作为图片应用到其它地方，例如在 WebGL 中作为贴图，这跟使用 echartsInstance.getDataURL 生成图片链接相比可以支持图表的实时刷新。</p>
<ul>
<li><p>theme</p>
<p>应用的主题。可以是一个主题的配置对象，也可以是使用已经通过 echarts.registerTheme 注册的主题名称。</p>
</li>
<li><p>opts</p>
<p>附加参数。有下面几个可选项：</p>
<ul>
<li><p>devicePixelRatio</p>
<p>设备像素比，默认取浏览器的值window.devicePixelRatio。</p>
</li>
<li><p>renderer</p>
<p>渲染器，支持 ‘canvas’ 或者 ‘svg’。参见 使用 <a href="http://echarts.baidu.com/tutorial.html#%E4%BD%BF%E7%94%A8%20Canvas%20%E6%88%96%E8%80%85%20SVG%20%E6%B8%B2%E6%9F%93" target="_blank" rel="noopener"> Canvas 或者 SVG 渲染 </a>。</p>
</li>
<li><p>width</p>
<p>可显式指定实例宽度，单位为像素。如果传入值为 null/undefined/‘auto’，则表示自动取 dom（实例容器）的宽度。</p>
</li>
<li><p>height</p>
<p>可显式指定实例高度，单位为像素。如果传入值为 null/undefined/‘auto’，则表示自动取 dom（实例容器）的高度。</p>
</li>
</ul>
</li>
</ul>
<h3 id="echartsInstance"><a href="#echartsInstance" class="headerlink" title="echartsInstance"></a>echartsInstance</h3><pre><code>通过 echarts.init 创建的实例。
</code></pre><p> 2、 echartsInstance.setOption()</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(option: Object, notMerge?: boolean, lazyUpdate?: boolean)</span><br><span class="line">or</span><br><span class="line">(option: Object, opts?: Object)</span><br></pre></td></tr></table></figure>
<p>设置图表实例的配置项以及数据，万能接口，所有参数和数据的修改都可以通过setOption完成，ECharts 会合并新的参数和数据，然后刷新图表。</p>
<p><strong>注：</strong> ECharts 2.x 中的通过 addData , setSeries 方法设置配置项的方式将不再支持，在 ECharts 3 中统一使用setOption</p>
<p><strong> 调用方式：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chart.setOption(option, notMerge, lazyUpdate);</span><br></pre></td></tr></table></figure>
<p>或者<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chart.setOption(option, &#123;</span><br><span class="line">    notMerge: ...,</span><br><span class="line">    lazyUpdate: ...,</span><br><span class="line">    silent: ...</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p><strong>参数：</strong></p>
<ul>
<li><p>option</p>
<p>图表的配置项和数据，具体见<a href="http://echarts.baidu.com/option.html#title" target="_blank">配置项手册</a>。</p>
</li>
<li><p>notMerge</p>
<p>可选，是否不跟之前设置的option进行合并，默认为false，即合并。</p>
</li>
<li><p>lazyUpdate</p>
<p>可选，在设置完option后是否不立即更新图表，默认为false，即立即更新。</p>
</li>
<li><p>silent</p>
<p>可选，阻止调用 setOption 时抛出事件，默认为false，即抛出事件。</p>
</li>
</ul>
<p>3、echartsInstance.clear()</p>
<p> 清空当前实例，会移除实例中所有的组件和图表。清空后调用 getOption 方法返回一个{}空对象。</p>
<p> 有时候图表会放在多个标签页里，多个图表共用一个容器，切换标签时，多个图表的配置项会合并出现在一起，如下图：</p>
<p> <img src="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/images/tab-chart-err1.png" width="500" title=""><br> <img src="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/images/tab-chart-err2.png" width="500" title=""></p>
<p> 标签页下应该呈现的正确的图表效果：</p>
<p> <img src="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/images/tab-chart1.png" width="500" title=""><br> <img src="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/images/tab-chart2.png" width="500" title=""></p>
<p>对比就可以看出，标签页1切换到标签页2，图表1的数据以及线图的颜色的配置项被合并到图表2的配置项中；<br>而切换到标签页2后再切回标签页1，图表2的配置项又被合并到图表1中，所以图表1的纵坐标数据出现了”%”。</p>
<p><b style="color: #67c23a;">该问题的解决方案有两种：</b></p>
<p>  (1) 设置图表实例的配置项以及数据时，将参数 <span style="background-color:#f9f2f4">notMerge</span>的值设置为: true;<br>   notMerge : 是否不跟之前设置的option进行合并，默认为false，即合并, 设置为true，即不合并。</p>
   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> queUse = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'queUse'</span>))</span><br><span class="line"><span class="comment">// 绘制图表</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.queCountTypeIndex === <span class="number">0</span>) &#123;</span><br><span class="line">    queUse.setOption(<span class="keyword">this</span>.opt1, &#123;<span class="attr">notMerge</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">    or</span><br><span class="line">    queUse.setOption(<span class="keyword">this</span>.opt1, <span class="literal">true</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.queCountTypeIndex === <span class="number">1</span>) &#123;</span><br><span class="line">    queUse.setOption(<span class="keyword">this</span>.opt2, &#123;<span class="attr">notMerge</span>: <span class="literal">true</span>&#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, () =&gt; &#123;</span><br><span class="line">    queUse.resize()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>  (2) 就是使用clear方法，每次切换标签页时先清空当前实例，再对该实例设置配置项以及数据。</p>
  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> queUse = echarts.init(<span class="built_in">document</span>.getElementById(<span class="string">'queUse'</span>))</span><br><span class="line"><span class="comment">// 绘制图表</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.queCountTypeIndex === <span class="number">0</span>) &#123;</span><br><span class="line">    queUse.clear()</span><br><span class="line">    queUse.setOption(<span class="keyword">this</span>.opt1)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">this</span>.queCountTypeIndex === <span class="number">1</span>) &#123;</span><br><span class="line">    queUse.clear()</span><br><span class="line">    queUse.setOption(<span class="keyword">this</span>.opt2)</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'resize'</span>, () =&gt; &#123;</span><br><span class="line">    queUse.resize()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>4、 echartsInstance.resize()</p>
<p>改变图表尺寸，在容器大小发生改变时需要手动调用。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">(opts?: &#123;</span><br><span class="line">    width?: number|string,</span><br><span class="line">    height?: number|string,</span><br><span class="line">    silent?: boolean</span><br><span class="line">&#125;) =&gt; ECharts</span><br></pre></td></tr></table></figure>
<p><strong>参数</strong></p>
<ul>
<li><p>opts</p>
<p>opts 可缺省。有下面几个可选项：</p>
</li>
<li><p>width</p>
<p>可显式指定实例宽度，单位为像素。如果传入值为 null/undefined/‘auto’，则表示自动取 dom（实例容器）的宽度。</p>
</li>
<li><p>height</p>
<p>可显式指定实例高度，单位为像素。如果传入值为 null/undefined/‘auto’，则表示自动取 dom（实例容器）的高度。</p>
</li>
<li><p>silent</p>
<p>是否禁止抛出事件。默认为 false。</p>
</li>
</ul>
<p><strong>Tip:</strong> 有时候图表会放在多个标签页里，那些初始隐藏的标签在初始化图表的时候因为获取不到容器的实际高宽，可能会绘制失败，因此在切换到该标签页时需要手动调用 resize 方法获取正确的高宽并且刷新画布，或者在 opts 中显示指定图表高宽。</p>
<p style="color:red;">在vue组件中调用echartsInstance.resize()时，为了确保获取到容器的实际高宽，可以在 this.$nextTick()的回调函数中使用 resize 方法.</p>

<h3 id="events"><a href="#events" class="headerlink" title="events"></a>events</h3><p>在 ECharts 中主要通过 on 方法添加事件处理函数。</p>
<p>在 ECharts 中事件分为两种类型，一种是用户鼠标操作点击，或者 hover 图表的图形时触发的事件，还有一种是用户在使用可以交互的组件后触发的行为事件，例如在切换图例开关时触发的 ‘legendselectchanged’ 事件（这里需要注意切换图例开关是不会触发’legendselected’事件的），数据区域缩放时触发的 ‘datazoom’ 事件等等。</p>
<p>鼠标事件包括’click’，’dblclick’，’mousedown’，’mouseup’，’mouseover’，’mouseout’，’globalout’，’contextmenu’。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用指定的配置项和数据显示图表。</span></span><br><span class="line">myChart.setOption(option);</span><br><span class="line"><span class="comment">// 处理点击事件并且跳转到相应的百度搜索页面</span></span><br><span class="line">myChart.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">window</span>.open(<span class="string">'https://www.baidu.com/s?wd='</span> + <span class="built_in">encodeURIComponent</span>(params.name));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>所有的鼠标事件包含参数 params，这是一个包含点击图形的数据信息的对象，如下格式：</p>
<p><code>{<br>    // 当前点击的图形元素所属的组件名称，<br>    // 其值如 ‘series’、’markLine’、’markPoint’、’timeLine’ 等。<br>    componentType: string,<br>    // 系列类型。值可能为：’line’、’bar’、’pie’ 等。当 componentType 为 ‘series’ 时有意义。<br>    seriesType: string,<br>    // 系列在传入的 option.series 中的 index。当 componentType 为 ‘series’ 时有意义。<br>    seriesIndex: number,<br>    // 系列名称。当 componentType 为 ‘series’ 时有意义。<br>    seriesName: string,<br>    // 数据名，类目名<br>    name: string,<br>    // 数据在传入的 data 数组中的 index<br>    dataIndex: number,<br>    // 传入的原始数据项<br>    data: Object,<br>    // sankey、graph 等图表同时含有 nodeData 和 edgeData 两种 data，<br>    // dataType 的值会是 ‘node’ 或者 ‘edge’，表示当前点击在 node 还是 edge 上。<br>    // 其他大部分图表中只有一种 data，dataType 无意义。<br>    dataType: string,<br>    // 传入的数据值<br>    value: number|Array<br>    // 数据图形的颜色。当 componentType 为 ‘series’ 时有意义。<br>    color: string<br>}</code></p>
<p><strong> 如何区分鼠标点击到了哪里：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">myChart.on(<span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">params</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (params.componentType === <span class="string">'markPoint'</span>) &#123;</span><br><span class="line">        <span class="comment">// 点击到了 markPoint 上</span></span><br><span class="line">        <span class="keyword">if</span> (params.seriesIndex === <span class="number">5</span>) &#123;</span><br><span class="line">            <span class="comment">// 点击到了 index 为 5 的 series 的 markPoint 上。</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (params.componentType === <span class="string">'series'</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (params.seriesType === <span class="string">'graph'</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (params.dataType === <span class="string">'edge'</span>) &#123;</span><br><span class="line">                <span class="comment">// 点击到了 graph 的 edge（边）上。</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 点击到了 graph 的 node（节点）上。</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><div class="tags"></div><div class="post-share"></div><div class="post-nav"><a href="/liumengjie2148.github.io/2018/07/14/npm 私有仓库 install 使用方法/" class="pre">npm 私有仓库 install 使用方法</a><a href="/liumengjie2148.github.io/2018/07/09/javascript执行机制/" class="next">javascript执行机制</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、在webpack中使用ECharts"><span class="toc-text">一、在webpack中使用ECharts</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#npm-安装-ECharts"><span class="toc-text">npm 安装 ECharts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#引入ECharts"><span class="toc-text">引入ECharts</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、图表的样式"><span class="toc-text">二、图表的样式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#绘制南丁格尔图"><span class="toc-text">绘制南丁格尔图</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#阴影的配置"><span class="toc-text">阴影的配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#深色背景和浅色标签"><span class="toc-text">深色背景和浅色标签</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#调色盘"><span class="toc-text">调色盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ECharts-中的样式设置注意点"><span class="toc-text">ECharts 中的样式设置注意点</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、用到的ECharts的API"><span class="toc-text">三、用到的ECharts的API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#echarts"><span class="toc-text">echarts</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#echartsInstance"><span class="toc-text">echartsInstance</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#events"><span class="toc-text">events</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2020/12/23/给页面添加水印/">给页面添加水印</a></li><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2018/08/27/MacOS安装npm全局包遇到权限问题/">MacOS安装npm全局包遇到权限问题</a></li><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2018/08/24/Echarts之formatter用法/">Echarts图表之formatter用法</a></li><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2018/07/14/npm 私有仓库 install 使用方法/">npm 私有仓库 install 使用方法</a></li><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2018/07/13/echarts使用笔记/">echarts使用笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2018/07/09/javascript执行机制/">javascript执行机制</a></li><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2018/07/04/setTimeout小记/">setTimeout小记</a></li><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2018/07/04/hello-Hexo/">Hello Hexo</a></li><li class="post-list-item"><a class="post-list-link" href="/liumengjie2148.github.io/2018/05/11/hexo-github搭建个人博客/">hexo+github搭建个人博客并部署到GitHub上</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/liumengjie2148.github.io/archives/2020/12/">十二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/liumengjie2148.github.io/archives/2018/08/">八月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/liumengjie2148.github.io/archives/2018/07/">七月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/liumengjie2148.github.io/archives/2018/05/">五月 2018</a></li></ul></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/liumengjie2148.github.io/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/liumengjie2148.github.io/atom.xml">订阅</a> |  <a href="/liumengjie2148.github.io/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/liumengjie2148.github.io/." rel="nofollow">liumengjie.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/liumengjie2148.github.io/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/liumengjie2148.github.io/js/toctotop.js?v=2.0.1" async></script></body></html>